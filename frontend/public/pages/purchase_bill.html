<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Purchase Bill | Mont Choffe</title>
    <!-- Linking CSS -->
    <link rel="stylesheet" href="pages-css/products.css">
    <link rel="stylesheet" href="pages-css/main_page.css">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Josefin+Sans:wght@400;700&family=Roboto:wght@400;500&display=swap" rel="stylesheet">
    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">

    <style>
        /* Minimal checkout styles */
        .checkout-wrap { max-width:900px; margin:150px auto; margin-bottom:15px; padding:22px; background:#fff; border-radius:12px; box-shadow:0 8px 30px rgba(0,0,0,0.08); }
        .checkout-head { display:flex; justify-content:space-between; align-items:center; margin-bottom:18px; }
        .order-items { list-style:none; padding:0; margin:0 0 16px 0; }
        .order-items li { display:flex; justify-content:space-between; padding:10px; border-radius:8px; background:#fff; margin-bottom:10px; box-shadow:0 3px 8px rgba(0,0,0,0.04); }
        .bill-row { display:flex; justify-content:space-between; padding:12px 0; border-top:1px dashed #eee; font-weight:700; color:#4B2E2E; }
        .place-order { width:100%; padding:14px; border-radius:12px; border:none; background:#C48A2A; color:#1c0e0e; font-weight:800; cursor:pointer; font-size:1rem; }
        .empty-note { text-align:center; color:#6b4a36; padding:20px 0; }
    </style>

</head>
<body>

    <header>
        <!-- TOP ROW: LOGO + NAV -->
        <div class="header-top">
            <!-- Logo -->
            <div class="logo-container">
                <a href="../index.html">
                    <img src="pages-images/logo.png" alt="Mont Choffe Logo" class="logo">
                </a>
                <!-- brand-name hidden by default -- shown only when header.shrink -->
                <h1 class="brand-name">Mont Choffe</h1>
            </div>

            <!-- Main Navigation -->
            <nav class="main-nav">
                <ul class="main-nav-links">
                    <!--<li><a href="../index.html">Home</a></li>-->
                    <li><a href="products.html">Products</a></li>
                    <li><a href="about_us.html">About</a></li>
                    <li class="user-icon">
                        <a href="login.html"><i class="fa-regular fa-user"></i></a>
                    </li>
                </ul>
            </nav>

            <!-- Header cart button -->
            <div class="header-cart">
                <button id="headerCartBtn" aria-label="Open cart" title="Cart">
                    <i class="fa-solid fa-bag-shopping"></i>
                    <span id="headerCartCount" class="cart-count-badge" style="display:none">0</span>
                 </button>
            </div>
            
            <!-- Hamburger -->
            <button class="hamburger" aria-label="Menu">
                <span></span><span></span><span></span>
            </button>
        </div>
        
        <!-- SEARCH BAR -->
        <div class="search-container">
            <input type="text" id="headerSearch" placeholder="Search..." class="search-bar">
            <button type="submit" id="headerSearchBtn" class="search-btn">üîçÔ∏é</button>
        </div>
        
        <!-- MORE LINKS -->
        <div class="more-links">
            <a href="contact_us.html">Contact</a>
            <a href="career.html">Careers</a>
            <a href="recipes.html">Recipe Collection</a>
            <a href="pairings.html">Pair Our Products</a>
            <a href="findUs.html">Find Us</a>
        </div>
        
        <!-- MOBILE MENU -->
        <div class="mobile-menu" id="mobileMenu">
            <ul>
                <li><a href="../index.html">Home</a></li>
                <li><a href="products.html">Products</a></li>
                <li><a href="about_us.html">About</a></li>
                <li><a href="contact_us.html">Contact</a></li>
                <li><a href="career.html">Careers</a></li>
                <li><a href="recipes.html">Recipe Collection</a></li>
                <li><a href="pairings.html">Pair Our Products</a></li>
                <li><a href="findUs.html">Find Us</a></li>
                <li><a href="login.html">Sign In / Sign Up</a></li>
            </ul>
        </div>
    </header>

    <main>
        <div class="checkout-wrap">
            <div class="checkout-head">
                <h1>Checkout</h1>
                <div>
                    <a href="products.html">‚Üê Continue shopping</a>
                </div>
            </div>

            <section id="orderSection">
                <!-- Filled by JS -->
            </section>

        </div>
    </main>

    <!-- FOOTER -->
    <footer>
        <p>&copy; 2025 Mont Choffe. All rights reserved.</p>
    </footer>

    <!-- Linking JS for interactivity -->
    <script src="pages-js/main_page.js"></script>
    <script src="pages-js/products.js"></script>

    <script>
        // Read cart from localStorage
        const cart = JSON.parse(localStorage.getItem('montCart')) || [];
        const orderSection = document.getElementById('orderSection');

        function renderCheckout() {
            if (!cart.length) {
                orderSection.innerHTML = '<div class="empty-note"><p>Your cart is empty. Add some delicious items first!</p><p><a href="products.html">Go to Products</a></p></div>';
                return;
            }

            let subtotal = 0;
            const list = document.createElement('ul');
            list.className = 'order-items';

            cart.forEach(item => {
                const li = document.createElement('li');
                li.innerHTML = `
                    <div style="min-width:0;">
                        <div style="font-weight:700; color:#4B2E2E;">${item.name}</div>
                        <div style="font-size:0.95rem; color:#6b4a36;">Qty: ${item.qty}</div>
                    </div>
                    <div style="text-align:right;">
                        <div style="font-weight:700;">${(item.price * item.qty).toFixed(2)} ÿØ.ÿ•</div>
                    </div>
                `;
                subtotal += item.price * item.qty;
                list.appendChild(li);
            });

            // Basic tax example (5%); change or remove as needed
            const taxRate = 0.05;
            const tax = subtotal * taxRate;
            const total = subtotal + tax;

            const container = document.createElement('div');
            container.appendChild(list);

            const billSummary = document.createElement('div');
            billSummary.innerHTML = `
                <div style="margin-top:12px;">
                    <div class="bill-row"><span>Subtotal</span><span>${subtotal.toFixed(2)} ÿØ.ÿ•</span></div>
                    <div class="bill-row"><span>Tax (5%)</span><span>${tax.toFixed(2)} ÿØ.ÿ•</span></div>
                    <div class="bill-row"><span>Total</span><span>${total.toFixed(2)} ÿØ.ÿ•</span></div>
                </div>
                <div style="margin-top:18px;">
                    <button id="placeOrderBtn" class="place-order">Place Order</button>
                </div>
            `;

            container.appendChild(billSummary);
            orderSection.innerHTML = '';
            orderSection.appendChild(container);

            document.getElementById('placeOrderBtn').addEventListener('click', () => {
                // Simulate placing order ‚Äî clear cart and show confirmation
                localStorage.removeItem('montCart');
                orderSection.innerHTML = '<div style="text-align:center; padding:24px;"><h2>Thank you ‚Äî order placed!</h2><p>We have received your order and will contact you shortly.</p><p><a href="products.html">Back to shopping</a></p></div>';
            });
        }

        renderCheckout();
    </script>

</body>
</html>